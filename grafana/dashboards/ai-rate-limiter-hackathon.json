{
  "id": null,
  "title": "üèÜ AI Rate Limiter - Simple Demo",
  "tags": ["ai", "rate-limiting", "hackathon", "simple"],
  "timezone": "browser",
  "refresh": "1s",
  "time": {
    "from": "now-3m",
    "to": "now"
  },
  "panels": [
    {
      "id": 1,
      "title": "üöÄ Traffic vs Limits: AI vs Static",
      "description": "THE KEY PANEL: Shows incoming traffic and how AI limits adapt vs static limits. This is your main story!",
      "type": "timeseries",
      "targets": [
        {
          "expr": "rl_real_time_rps",
          "legendFormat": "{{tenant}} Incoming Traffic"
        },
        {
          "expr": "rl_policy_rps",
          "legendFormat": "AI {{tenant}} Limit"
        },
        {
          "expr": "15",
          "legendFormat": "Static ENT Limit"
        },
        {
          "expr": "10",
          "legendFormat": "Static PRO Limit"
        },
        {
          "expr": "5",
          "legendFormat": "Static FREE Limit"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "reqps",
          "min": 0,
          "max": 100,
          "color": {"mode": "palette-classic"},
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 10
          }
        },
        "overrides": [
          {
            "matcher": {"id": "byRegexp", "options": ".*ent.*Traffic.*"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "green"}},
              {"id": "custom.lineWidth", "value": 3},
              {"id": "displayName", "value": "üèÜ ENT Traffic"}
            ]
          },
          {
            "matcher": {"id": "byRegexp", "options": ".*pro.*Traffic.*"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "blue"}},
              {"id": "custom.lineWidth", "value": 3},
              {"id": "displayName", "value": "üíº PRO Traffic"}
            ]
          },
          {
            "matcher": {"id": "byRegexp", "options": ".*free.*Traffic.*"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "orange"}},
              {"id": "custom.lineWidth", "value": 3},
              {"id": "displayName", "value": "ÔøΩ FREE Traffic"}
            ]
          },
          {
            "matcher": {"id": "byRegexp", "options": "AI.*ent.*Limit"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "dark-green"}},
              {"id": "custom.lineStyle", "value": {"dash": [10, 10]}},
              {"id": "displayName", "value": "ü§ñ AI ENT Limit"}
            ]
          },
          {
            "matcher": {"id": "byRegexp", "options": "AI.*pro.*Limit"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "dark-blue"}},
              {"id": "custom.lineStyle", "value": {"dash": [10, 10]}},
              {"id": "displayName", "value": "ü§ñ AI PRO Limit"}
            ]
          },
          {
            "matcher": {"id": "byRegexp", "options": "AI.*free.*Limit"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "dark-orange"}},
              {"id": "custom.lineStyle", "value": {"dash": [10, 10]}},
              {"id": "displayName", "value": "ü§ñ AI FREE Limit"}
            ]
          },
          {
            "matcher": {"id": "byName", "options": "Static ENT Limit"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "red"}},
              {"id": "custom.lineStyle", "value": {"dash": [5, 5]}},
              {"id": "custom.lineWidth", "value": 1}
            ]
          },
          {
            "matcher": {"id": "byName", "options": "Static PRO Limit"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "red"}},
              {"id": "custom.lineStyle", "value": {"dash": [5, 5]}},
              {"id": "custom.lineWidth", "value": 1}
            ]
          },
          {
            "matcher": {"id": "byName", "options": "Static FREE Limit"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "red"}},
              {"id": "custom.lineStyle", "value": {"dash": [5, 5]}},
              {"id": "custom.lineWidth", "value": 1}
            ]
          }
        ]
      },
      "gridPos": {"h": 12, "w": 24, "x": 0, "y": 0}
    },
    {
      "id": 2,
      "title": "üß† AI Confidence",
      "description": "AI decision confidence score - shows AI is making reliable decisions (>85% = good)",
      "type": "gauge",
      "targets": [
        {
          "expr": "avg(rl_ai_confidence_score)",
          "legendFormat": "AI Confidence"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "min": 0,
          "max": 1,
          "unit": "percentunit",
          "thresholds": {
            "steps": [
              {"color": "red", "value": 0},
              {"color": "yellow", "value": 0.7},
              {"color": "green", "value": 0.85}
            ]
          }
        }
      },
      "gridPos": {"h": 8, "w": 6, "x": 0, "y": 12}
    },
    {
      "id": 3,
      "title": "üåä Surge Analysis",
      "description": "AI predicts traffic surges before they happen - shows predictive capability",
      "type": "timeseries",
      "targets": [
        {
          "expr": "rl_surge_prediction",
          "legendFormat": "{{tenant}} Surge Probability"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "min": 0,
          "max": 1,
          "unit": "percentunit",
          "color": {"mode": "palette-classic"}
        },
        "overrides": [
          {
            "matcher": {"id": "byRegexp", "options": ".*ent.*"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "green"}},
              {"id": "displayName", "value": "üèÜ ENT Surge"}
            ]
          },
          {
            "matcher": {"id": "byRegexp", "options": ".*pro.*"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "blue"}},
              {"id": "displayName", "value": "üíº PRO Surge"}
            ]
          },
          {
            "matcher": {"id": "byRegexp", "options": ".*free.*"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "orange"}},
              {"id": "displayName", "value": "üÜì FREE Surge"}
            ]
          }
        ]
      },
      "gridPos": {"h": 8, "w": 9, "x": 6, "y": 12}
    },
    {
      "id": 4,
      "title": "üèÜ Governance Queue",
      "description": "Governance decisions: pending vs auto-approved - shows enterprise governance in action",
      "type": "stat",
      "targets": [
        {
          "expr": "rl_governance_queue_size",
          "legendFormat": "Pending Decisions"
        },
        {
          "expr": "increase(rl_ai_decisions_total{applied=\"true\"}[1m])",
          "legendFormat": "Auto-Approved (last min)"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "displayMode": "basic"
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {"id": "byName", "options": "Pending Decisions"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "yellow"}},
              {"id": "displayName", "value": "‚è≥ Pending"}
            ]
          },
          {
            "matcher": {"id": "byName", "options": "Auto-Approved (last min)"},
            "properties": [
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "green"}},
              {"id": "displayName", "value": "‚úÖ Approved"}
            ]
          }
        ]
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "horizontal"
      },
      "gridPos": {"h": 8, "w": 9, "x": 15, "y": 12}
    },
    {
      "id": 5,
      "title": "üìä Current RPS: AI vs Static Comparison",
      "description": "Real-time RPS comparison table - shows AI advantage over static limits",
      "type": "table",
      "targets": [
        {
          "expr": "rl_real_time_rps",
          "legendFormat": "{{tenant}}",
          "format": "table",
          "instant": true
        },
        {
          "expr": "rl_policy_rps",
          "legendFormat": "{{tenant}}",
          "format": "table", 
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "reqps",
          "custom": {
            "displayMode": "color-background",
            "align": "center"
          }
        },
        "overrides": [
          {
            "matcher": {"id": "byName", "options": "Tenant"},
            "properties": [
              {"id": "custom.width", "value": 120},
              {"id": "mappings", "value": [
                {"options": {"ent": {"text": "üèÜ Enterprise"}}, "type": "value"},
                {"options": {"pro": {"text": "üíº Professional"}}, "type": "value"},
                {"options": {"free": {"text": "üÜì Free"}}, "type": "value"}
              ]}
            ]
          },
          {
            "matcher": {"id": "byName", "options": "Current Traffic"},
            "properties": [
              {"id": "custom.width", "value": 130},
              {"id": "color", "value": {"mode": "continuous-GrYlRd"}}
            ]
          },
          {
            "matcher": {"id": "byName", "options": "AI Limit"},
            "properties": [
              {"id": "custom.width", "value": 100},
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "green"}}
            ]
          },
          {
            "matcher": {"id": "byName", "options": "Static Limit"},
            "properties": [
              {"id": "custom.width", "value": 110},
              {"id": "color", "value": {"mode": "fixed", "fixedColor": "red"}}
            ]
          }
        ]
      },
      "transformations": [
        {
          "id": "merge",
          "options": {}
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "__name__": true,
              "Time": true,
              "job": true,
              "instance": true
            },
            "indexByName": {},
            "renameByName": {
              "tenant": "Tenant",
              "Value #A": "Current Traffic",
              "Value #B": "AI Limit"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Static Limit",
            "binary": {
              "left": "Tenant",
              "operator": "==",
              "reducer": "sum",
              "right": "ent"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            },
            "replaceFields": false
          }
        }
      ],
      "gridPos": {"h": 8, "w": 24, "x": 0, "y": 20}
    }
  ],
  "schemaVersion": 30,
  "version": 1,
  "editable": true
}
